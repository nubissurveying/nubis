!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){function t(e){var t=document.createElement("input"),e="on"+e,a=e in t;return a||(t.setAttribute(e,"return;"),a="function"==typeof t[e]),t=null,a}function a(t,i,n){var r=n.aliases[t];return r?(r.alias&&a(r.alias,void 0,n),e.extend(!0,n,r),e.extend(!0,n,i),!0):!1}function i(t,a){function i(e){function a(e,t,a,i){this.matches=[],this.isGroup=e||!1,this.isOptional=t||!1,this.isQuantifier=a||!1,this.isAlternator=i||!1,this.quantifier={min:1,max:1}}function i(e,a,i){var n=t.definitions[a],r=0==e.matches.length;if(i=void 0!=i?i:e.matches.length,n&&!d){for(var o=n.prevalidator,s=o?o.length:0,l=1;l<n.cardinality;l++){var u=s>=l?o[l-1]:[],c=u.validator,v=u.cardinality;e.matches.splice(i++,0,{fn:c?"string"==typeof c?new RegExp(c):new function(){this.test=c}:new RegExp("."),cardinality:v?v:1,optionality:e.isOptional,newBlockMarker:r,casing:n.casing,def:n.definitionSymbol||a,placeholder:n.placeholder,mask:a})}e.matches.splice(i++,0,{fn:n.validator?"string"==typeof n.validator?new RegExp(n.validator):new function(){this.test=n.validator}:new RegExp("."),cardinality:n.cardinality,optionality:e.isOptional,newBlockMarker:r,casing:n.casing,def:n.definitionSymbol||a,placeholder:n.placeholder,mask:a})}else e.matches.splice(i++,0,{fn:null,cardinality:0,optionality:e.isOptional,newBlockMarker:r,casing:null,def:a,placeholder:void 0,mask:a}),d=!1}for(var n,r,o,s,l,u,c=/(?:[?*+]|\{[0-9\+\*]+(?:,[0-9\+\*]*)?\})\??|[^.?*+^${[]()|\\]+|./g,d=!1,v=new a,p=[],f=[];n=c.exec(e);)switch(r=n[0],r.charAt(0)){case t.optionalmarker.end:case t.groupmarker.end:if(o=p.pop(),p.length>0){if(s=p[p.length-1],s.matches.push(o),s.isAlternator){l=p.pop();for(var m=0;m<l.matches.length;m++)l.matches[m].isGroup=!1;p.length>0?(s=p[p.length-1],s.matches.push(l)):v.matches.push(l)}}else v.matches.push(o);break;case t.optionalmarker.start:p.push(new a(!1,!0));break;case t.groupmarker.start:p.push(new a(!0));break;case t.quantifiermarker.start:var h=new a(!1,!1,!0);r=r.replace(/[{}]/g,"");var k=r.split(","),g=isNaN(k[0])?k[0]:parseInt(k[0]),y=1==k.length?g:isNaN(k[1])?k[1]:parseInt(k[1]);if(("*"==y||"+"==y)&&(g="*"==y?0:1),h.quantifier={min:g,max:y},p.length>0){var _=p[p.length-1].matches;if(n=_.pop(),!n.isGroup){var b=new a(!0);b.matches.push(n),n=b}_.push(n),_.push(h)}else{if(n=v.matches.pop(),!n.isGroup){var b=new a(!0);b.matches.push(n),n=b}v.matches.push(n),v.matches.push(h)}break;case t.escapeChar:d=!0;break;case t.alternatormarker:p.length>0?(s=p[p.length-1],u=s.matches.pop()):u=v.matches.pop(),u.isAlternator?p.push(u):(l=new a(!1,!1,!1,!0),l.matches.push(u),p.push(l));break;default:if(p.length>0){if(s=p[p.length-1],s.matches.length>0&&(u=s.matches[s.matches.length-1],u.isGroup&&(u.isGroup=!1,i(u,t.groupmarker.start,0),i(u,t.groupmarker.end))),i(s,r),s.isAlternator){l=p.pop();for(var m=0;m<l.matches.length;m++)l.matches[m].isGroup=!1;p.length>0?(s=p[p.length-1],s.matches.push(l)):v.matches.push(l)}}else v.matches.length>0&&(u=v.matches[v.matches.length-1],u.isGroup&&(u.isGroup=!1,i(u,t.groupmarker.start,0),i(u,t.groupmarker.end))),i(v,r)}return v.matches.length>0&&(u=v.matches[v.matches.length-1],u.isGroup&&(u.isGroup=!1,i(u,t.groupmarker.start,0),i(u,t.groupmarker.end)),f.push(v)),f}function n(a,n){if(t.numericInput&&t.multi!==!0){a=a.split("").reverse();for(var r=0;r<a.length;r++)a[r]==t.optionalmarker.start?a[r]=t.optionalmarker.end:a[r]==t.optionalmarker.end?a[r]=t.optionalmarker.start:a[r]==t.groupmarker.start?a[r]=t.groupmarker.end:a[r]==t.groupmarker.end&&(a[r]=t.groupmarker.start);a=a.join("")}if(void 0!=a&&""!=a){if(t.repeat>0||"*"==t.repeat||"+"==t.repeat){var o="*"==t.repeat?0:"+"==t.repeat?1:t.repeat;a=t.groupmarker.start+a+t.groupmarker.end+t.quantifiermarker.start+o+","+t.repeat+t.quantifiermarker.end}return void 0==e.inputmask.masksCache[a]&&(e.inputmask.masksCache[a]={mask:a,maskToken:i(a),validPositions:{},_buffer:void 0,buffer:void 0,tests:{},metadata:n}),e.extend(!0,{},e.inputmask.masksCache[a])}}var r=[];if(e.isFunction(t.mask)&&(t.mask=t.mask.call(this,t)),e.isArray(t.mask))if(a)e.each(t.mask,function(t,a){void 0==a.mask||e.isFunction(a.mask)?r.push(n(a.toString())):r.push(n(a.mask.toString(),a))});else{t.keepStatic=void 0==t.keepStatic?!0:t.keepStatic;var o=!1,s="(";e.each(t.mask,function(t,a){s.length>1&&(s+=")|("),void 0==a.mask||e.isFunction(a.mask)?s+=a.toString():(o=!0,s+=a.mask.toString())}),s+=")",r=n(s,o?t.mask:void 0)}else 1==t.mask.length&&0==t.greedy&&0!=t.repeat&&(t.placeholder=""),r=void 0==t.mask.mask||e.isFunction(t.mask.mask)?n(t.mask.toString()):n(t.mask.mask.toString(),t.mask);return r}function n(t,a,i){function n(e,t,a){t=t||0;var n,o,s,l=[],u=0;do{if(e===!0&&r().validPositions[u]){var c=r().validPositions[u];o=c.match,n=c.locator.slice(),l.push(null==o.fn?o.def:a===!0?c.input:o.placeholder||i.placeholder.charAt(u%i.placeholder.length))}else{if(t>u){var d=y(u,n,u-1);s=d[0]}else s=h(u,n,u-1);o=s.match,n=s.locator.slice(),l.push(null==o.fn?o.def:void 0!=o.placeholder?o.placeholder:i.placeholder.charAt(u%i.placeholder.length))}u++}while((void 0==ae||ae>u-1)&&null!=o.fn||null==o.fn&&""!=o.def||t>=u);return l.pop(),l}function r(){return a}function v(e){var t=r();t.buffer=void 0,t.tests={},e!==!0&&(t._buffer=void 0,t.validPositions={},t.p=-1)}function p(e){var t=r(),a=-1,i=t.validPositions;void 0==e&&(e=-1);var n=a,o=a;for(var s in i){var l=parseInt(s);(-1==e||null!=i[l].match.fn)&&(e>l&&(n=l),l>=e&&(o=l))}return a=e-n>1||e>o?n:o}function f(t,a,n){if(i.insertMode&&void 0!=r().validPositions[t]&&void 0==n){var o,s=e.extend(!0,{},r().validPositions),l=p();for(o=t;l>=o;o++)delete r().validPositions[o];r().validPositions[t]=a;var u=!0;for(o=t;l>=o;o++){var c=s[o];if(void 0!=c){var d=null==c.match.fn?o+1:M(o);u=g(d,c.match.def)?u&&A(d,c.input,!0,!0)!==!1:!1}if(!u)break}if(!u)return r().validPositions=e.extend(!0,{},s),!1}else r().validPositions[t]=a;return!0}function m(e,t){var a,i,n=e;for(a=e;t>a;a++)delete r().validPositions[a];for(a=t;a<=p();){var o=r().validPositions[a],s=r().validPositions[n];void 0!=o&&void 0==s?(g(n,o.match.def)&&A(n,o.input,!0)!==!1&&(delete r().validPositions[a],a++),n++):a++}for(i=p();i>0&&(void 0==r().validPositions[i]||null==r().validPositions[i].match.fn);)delete r().validPositions[i],i--;v(!0)}function h(t,a,n){for(var o,s=y(t,a,n),l=p(),u=r().validPositions[l]||y(0)[0],c=void 0!=u.alternation?u.locator[u.alternation].split(","):[],d=0;d<s.length&&(o=s[d],!i.greedy&&(!o.match||o.match.optionality!==!1&&o.match.newBlockMarker!==!1||o.match.optionalQuantifier===!0||void 0!=u.alternation&&(void 0==o.locator[u.alternation]||-1!=e.inArray(o.locator[u.alternation].toString(),c))));d++);return o}function k(e){return r().validPositions[e]?r().validPositions[e].match:y(e)[0].match}function g(e,t){for(var a=!1,i=y(e),n=0;n<i.length;n++)if(i[n].match&&i[n].match.def==t){a=!0;break}return a}function y(t,a,n){function o(a,n,s,u){function v(s,u,f){if(l>1e4)return alert("jquery.inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. "+r().mask),!0;if(l==t&&void 0==s.matches)return c.push({match:s,locator:u.reverse()}),!0;if(void 0!=s.matches){if(s.isGroup&&f!==!0){if(s=v(a.matches[p+1],u))return!0}else if(s.isOptional){var m=s;if(s=o(s,n,u,f)){var h=c[c.length-1].match,k=0==e.inArray(h,m.matches);k&&(d=!0),l=t}}else if(s.isAlternator){var g,y=s,_=[],b=c.slice(),P=u.length,C=n.length>0?n.shift():-1;if(-1==C||"string"==typeof C){var A,E=l,S=n.slice();"string"==typeof C&&(A=C.split(","));for(var M=0;M<y.matches.length;M++){c=[],s=v(y.matches[M],[M].concat(u),f)||s,g=c.slice(),l=E,c=[];for(var w=0;w<S.length;w++)n[w]=S[w];for(var G=0;G<g.length;G++)for(var T=g[G],O=0;O<_.length;O++){var x=_[O];if(T.match.mask==x.match.mask&&("string"!=typeof C||-1!=e.inArray(T.locator[P].toString(),A))){g.splice(G,1),x.locator[P]=x.locator[P]+","+T.locator[P],x.alternation=P;break}}_=_.concat(g)}"string"==typeof C&&(_=e.map(_,function(t,a){if(isFinite(a)){var i,n=t.locator[P].toString().split(",");t.locator[P]=void 0,t.alternation=void 0;for(var r=0;r<n.length;r++)i=-1!=e.inArray(n[r],A),i&&(void 0!=t.locator[P]?(t.locator[P]+=",",t.alternation=P,t.locator[P]+=n[r]):t.locator[P]=parseInt(n[r]));if(void 0!=t.locator[P])return t}})),c=b.concat(_),d=!0}else s=v(y.matches[C],[C].concat(u),f);if(s)return!0}else if(s.isQuantifier&&f!==!0){var D=s;i.greedy=i.greedy&&isFinite(D.quantifier.max);for(var j=n.length>0&&f!==!0?n.shift():0;j<(isNaN(D.quantifier.max)?j+1:D.quantifier.max)&&t>=l;j++){var K=a.matches[e.inArray(D,a.matches)-1];if(s=v(K,[j].concat(u),!0)){var h=c[c.length-1].match;h.optionalQuantifier=j>D.quantifier.min-1;var k=0==e.inArray(h,K.matches);if(k){if(j>D.quantifier.min-1){d=!0,l=t;break}return!0}return!0}}}else if(s=o(s,n,u,f))return!0}else l++}for(var p=n.length>0?n.shift():0;p<a.matches.length;p++)if(a.matches[p].isQuantifier!==!0){var f=v(a.matches[p],[p].concat(s),u);if(f&&l==t)return f;if(l>t)break}}var s=r().maskToken,l=a?n:0,u=a||[0],c=[],d=!1;if(void 0==a){for(var v,p=t-1;void 0==(v=r().validPositions[p])&&p>-1;)p--;if(void 0!=v&&p>-1)l=p,u=v.locator.slice();else{for(p=t-1;void 0==(v=r().tests[p])&&p>-1;)p--;void 0!=v&&p>-1&&(l=p,u=v[0].locator.slice())}}for(var f=u.shift();f<s.length;f++){var m=o(s[f],u,[f]);if(m&&l==t||l>t)break}return(0==c.length||d)&&c.push({match:{fn:null,cardinality:0,optionality:!0,casing:null,def:""},locator:[]}),r().tests[t]=e.extend(!0,[],c),r().tests[t]}function _(){return void 0==r()._buffer&&(r()._buffer=n(!1,1)),r()._buffer}function b(){return void 0==r().buffer&&(r().buffer=n(!0,p(),!0)),r().buffer}function P(e,t){var a=b().slice();if(e===!0)v(),e=0,t=a.length;else for(var n=e;t>n;n++)delete r().validPositions[n],delete r().tests[n];for(var n=e;t>n;n++)a[n]!=i.skipOptionalPartCharacter&&A(n,a[n],!0,!0)}function C(e,t){switch(t.casing){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase()}return e}function A(t,a,n,o){function s(t,a,n,o){var s=!1;return e.each(y(t),function(l,u){for(var c=u.match,d=a?1:0,h="",k=(b(),c.cardinality);k>d;k--)h+=G(t-(k-1));if(a&&(h+=a),s=null!=c.fn?c.fn.test(h,r(),t,n,i):a!=c.def&&a!=i.skipOptionalPartCharacter||""==c.def?!1:{c:c.def,pos:t},s!==!1){var g=void 0!=s.c?s.c:a;g=g==i.skipOptionalPartCharacter&&null===c.fn?c.def:g;var y=t;if(void 0!=s.remove&&m(s.remove,s.remove+1),s.refreshFromBuffer){var _=s.refreshFromBuffer;if(n=!0,P(_===!0?_:_.start,_.end),void 0==s.pos&&void 0==s.c)return s.pos=p(),!1;if(y=void 0!=s.pos?s.pos:t,y!=t)return s=e.extend(s,A(y,g,!0)),!1}else if(s!==!0&&void 0!=s.pos&&s.pos!=t&&(y=s.pos,P(t,y),y!=t))return s=e.extend(s,A(y,g,!0)),!1;return 1!=s&&void 0==s.pos&&void 0==s.c?!1:(l>0&&v(!0),f(y,e.extend({},u,{input:C(g,c)}),o)||(s=!1),!1)}}),s}function l(t,a,n,o){if(i.keepStatic){var s,l,u=e.extend(!0,{},r().validPositions);for(s=p();s>=0;s--)if(r().validPositions[s]&&void 0!=r().validPositions[s].alternation){l=r().validPositions[s].alternation;break}if(void 0!=l)for(var c in r().validPositions)if(parseInt(c)>parseInt(s)&&void 0===r().validPositions[c].alternation){for(var d=r().validPositions[c],f=d.locator[l],m=r().validPositions[s].locator[l].split(","),h=0;h<m.length;h++)if(f<m[h]){for(var k,g,y=c-1;y>=0;y--)if(k=r().validPositions[y],void 0!=k){g=k.locator[l],k.locator[l]=m[h];break}if(f!=k.locator[l]){for(var _=b().slice(),P=c;P<p()+1;P++)delete r().validPositions[P],delete r().tests[P];v(!0),i.keepStatic=!i.keepStatic;for(var P=c;P<_.length;P++)_[P]!=i.skipOptionalPartCharacter&&A(p()+1,_[P],!1,!0);k.locator[l]=g;var C=p()+1==t&&A(t,a,n,o);if(i.keepStatic=!i.keepStatic,C)return C;v(),r().validPositions=e.extend(!0,{},u)}}break}}return!1}n=n===!0;for(var u=b(),c=t-1;c>-1&&(!r().validPositions[c]||null!=r().validPositions[c].match.fn);c--)void 0==r().validPositions[c]&&(!E(c)||u[c]!=O(c))&&y(c).length>1&&s(c,u[c],!0);var d=t;if(d>=S())return l(t,a,n,o);var h=s(d,a,n,o);if(!n&&h===!1){var k=r().validPositions[d];if(!k||null!=k.match.fn||k.match.def!=a&&a!=i.skipOptionalPartCharacter){if((i.insertMode||void 0==r().validPositions[M(d)])&&!E(d))for(var g=d+1,_=M(d);_>=g;g++)if(h=s(g,a,n,o),h!==!1){d=g;break}}else h={caret:M(d)}}return h===!0&&(h={pos:d}),h}function E(e){var t=k(e);return null!=t.fn?t.fn:!1}function S(){var e;if(ae=te.prop("maxLength"),-1==ae&&(ae=void 0),0==i.greedy){var t,a=p(),n=r().validPositions[a],o=void 0!=n?n.locator.slice():void 0;for(t=a+1;void 0==n||null!=n.match.fn||null==n.match.fn&&""!=n.match.def;t++)n=h(t,o,t-1),o=n.locator.slice();e=t}else e=b().length;return void 0==ae||ae>e?e:ae}function M(e){var t=S();if(e>=t)return t;for(var a=e;++a<t&&!E(a)&&(i.nojumps!==!0||i.nojumpsThreshold>a););return a}function w(e){var t=e;if(0>=t)return 0;for(;--t>0&&!E(t););return t}function G(e){return void 0==r().validPositions[e]?O(e):r().validPositions[e].input}function T(e,t,a){e._valueSet(t.join("")),void 0!=a&&I(e,a)}function O(e,t){return t=t||k(e),t.placeholder||(null==t.fn?t.def:i.placeholder.charAt(e%i.placeholder.length))}function x(t,a,n,o,s){var l=void 0!=o?o.slice():j(t._valueGet()).split("");if(v(),a&&t._valueSet(""),e.each(l,function(a,i){if(s===!0){var o=p(),l=-1==o?a:M(o);-1==e.inArray(i,_().slice(o+1,l))&&Q.call(t,void 0,!0,i.charCodeAt(0),!1,n,a)}else Q.call(t,void 0,!0,i.charCodeAt(0),!1,n,a),n=n||a>0&&a>r().p}),a){var u=i.onKeyPress.call(this,void 0,b(),0,i);W(t,u),T(t,b(),e(t).is(":focus")?M(p(0)):void 0)}}function D(t){return e.inputmask.escapeRegex.call(this,t)}function j(e){return e.replace(new RegExp("("+D(_().join(""))+")*$"),"")}function K(t){if(t.data("_inputmask")&&!t.hasClass("hasDatepicker")){var a=[],n=r().validPositions;for(var o in n)n[o].match&&null!=n[o].match.fn&&a.push(n[o].input);var s=(ie?a.reverse():a).join(""),l=(ie?b().slice().reverse():b()).join("");return e.isFunction(i.onUnMask)&&(s=i.onUnMask.call(t,l,s,i)),s}return t[0]._valueGet()}function F(e){if(ie&&"number"==typeof e&&(!i.greedy||""!=i.placeholder)){var t=b().length;e=t-e}return e}function I(t,a,n){var r,o=t.jquery&&t.length>0?t[0]:t;if("number"!=typeof a){var s=e(o).data("_inputmask");return!e(o).is(":visible")&&s&&void 0!=s.caret?(a=s.caret.begin,n=s.caret.end):o.setSelectionRange?(a=o.selectionStart,n=o.selectionEnd):document.selection&&document.selection.createRange&&(r=document.selection.createRange(),a=0-r.duplicate().moveStart("character",-1e5),n=a+r.text.length),a=F(a),n=F(n),{begin:a,end:n}}a=F(a),n=F(n),n="number"==typeof n?n:a;var s=e(o).data("_inputmask")||{};s.caret={begin:a,end:n},e(o).data("_inputmask",s),e(o).is(":visible")&&(o.scrollLeft=o.scrollWidth,0==i.insertMode&&a==n&&n++,o.setSelectionRange?(o.selectionStart=a,o.selectionEnd=n):o.createTextRange&&(r=o.createTextRange(),r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",a),r.select()))}function R(t){var a,i,n=b(),o=n.length,s=p(),l={},u=r().validPositions[s],c=void 0!=u?u.locator.slice():void 0;for(a=s+1;a<n.length;a++)i=h(a,c,a-1),c=i.locator.slice(),l[a]=e.extend(!0,{},i);var d=u&&void 0!=u.alternation?u.locator[u.alternation].split(","):[];for(a=o-1;a>s&&(i=l[a].match,(i.optionality||i.optionalQuantifier||u&&void 0!=u.alternation&&void 0!=l[a].locator[u.alternation]&&-1!=e.inArray(l[a].locator[u.alternation].toString(),d))&&n[a]==O(a,i));a--)o--;return t?{l:o,def:l[o]?l[o].match:void 0}:o}function B(e){var t=b(),a=t.slice(),i=R();a.length=i,T(e,a)}function L(t){if(e.isFunction(i.isComplete))return i.isComplete.call(te,t,i);if("*"!=i.repeat){var a=!1,n=R(!0),r=w(n.l),o=p();if(o==r&&(void 0==n.def||n.def.newBlockMarker||n.def.optionalQuantifier)){a=!0;for(var s=0;r>=s;s++){var l=E(s);if(l&&(void 0==t[s]||t[s]==O(s))||!l&&t[s]!=O(s)){a=!1;break}}}return a}}function N(e,t){return ie?e-t>1||e-t==1&&i.insertMode:t-e>1||t-e==1&&i.insertMode}function H(t){var a=e._data(t).events;e.each(a,function(t,a){e.each(a,function(e,t){if("inputmask"==t.namespace&&"setvalue"!=t.type){var a=t.handler;t.handler=function(e){return this.readOnly||this.disabled?void e.preventDefault:a.apply(this,arguments)}}})})}function U(t){function a(t){if(void 0==e.valHooks[t]||1!=e.valHooks[t].inputmaskpatch){var a=e.valHooks[t]&&e.valHooks[t].get?e.valHooks[t].get:function(e){return e.value},i=e.valHooks[t]&&e.valHooks[t].set?e.valHooks[t].set:function(e,t){return e.value=t,e};e.valHooks[t]={get:function(t){var i=e(t);if(i.data("_inputmask")){if(i.data("_inputmask").opts.autoUnmask)return i.inputmask("unmaskedvalue");var n=a(t),r=i.data("_inputmask"),o=r.maskset,s=o._buffer;return s=s?s.join(""):"",n!=s?n:""}return a(t)},set:function(t,a){var n,r=e(t),o=r.data("_inputmask");return o?(n=i(t,e.isFunction(o.opts.onBeforeMask)?o.opts.onBeforeMask.call(ce,a,o.opts):a),r.triggerHandler("setvalue.inputmask")):n=i(t,a),n},inputmaskpatch:!0}}}function i(){var t=e(this),a=e(this).data("_inputmask");return a?a.opts.autoUnmask?t.inputmask("unmaskedvalue"):o.call(this)!=_().join("")?o.call(this):"":o.call(this)}function n(t){var a=e(this).data("_inputmask");a?(s.call(this,e.isFunction(a.opts.onBeforeMask)?a.opts.onBeforeMask.call(ce,t,a.opts):t),e(this).triggerHandler("setvalue.inputmask")):s.call(this,t)}function r(t){e(t).bind("mouseenter.inputmask",function(t){var a=e(this),i=this,n=i._valueGet();""!=n&&n!=b().join("")&&a.trigger("setvalue")});var a=e._data(t).events,i=a.mouseover;if(i){for(var n=i[i.length-1],r=i.length-1;r>0;r--)i[r]=i[r-1];i[0]=n}}var o,s;if(!t._valueGet){if(Object.getOwnPropertyDescriptor)var l=Object.getOwnPropertyDescriptor(t,"value");l&&l.configurable,document.__lookupGetter__&&t.__lookupGetter__("value")?(o=t.__lookupGetter__("value"),s=t.__lookupSetter__("value"),t.__defineGetter__("value",i),t.__defineSetter__("value",n)):(o=function(){return t.value},s=function(e){t.value=e},a(t.type),r(t)),t._valueGet=function(){return ie?o.call(this).split("").reverse().join(""):o.call(this)},t._valueSet=function(e){s.call(this,ie?e.split("").reverse().join(""):e)}}}function q(e,t,a){if((i.numericInput||ie)&&(t==i.keyCode.BACKSPACE?t=i.keyCode.DELETE:t==i.keyCode.DELETE&&(t=i.keyCode.BACKSPACE),ie)){var n=a.end;a.end=a.begin,a.begin=n}t==i.keyCode.BACKSPACE&&a.end-a.begin<=1?a.begin=w(a.begin):t==i.keyCode.DELETE&&a.begin==a.end&&a.end++,m(a.begin,a.end);var o=p(a.begin);o<a.begin?r().p=M(o):r().p=a.begin}function W(e,t,a){if(t&&t.refreshFromBuffer){var i=t.refreshFromBuffer;P(i===!0?i:i.start,i.end),v(!0),void 0!=a&&(T(e,b()),I(e,t.caret||a.begin,t.caret||a.end))}}function V(t){ne=!1;var a=this,n=e(a),s=t.keyCode,l=I(a);s==i.keyCode.BACKSPACE||s==i.keyCode.DELETE||o&&127==s||t.ctrlKey&&88==s?(t.preventDefault(),88==s&&(ee=b().join("")),q(a,s,l),T(a,b(),r().p),a._valueGet()==_().join("")&&n.trigger("cleared"),i.showTooltip&&n.prop("title",r().mask)):s==i.keyCode.END||s==i.keyCode.PAGE_DOWN?setTimeout(function(){var e=M(p());i.insertMode||e!=S()||t.shiftKey||e--,I(a,t.shiftKey?l.begin:e,e)},0):s==i.keyCode.HOME&&!t.shiftKey||s==i.keyCode.PAGE_UP?I(a,0,t.shiftKey?l.begin:0):s==i.keyCode.ESCAPE||90==s&&t.ctrlKey?(x(a,!0,!1,ee.split("")),n.click()):s!=i.keyCode.INSERT||t.shiftKey||t.ctrlKey?0!=i.insertMode||t.shiftKey||(s==i.keyCode.RIGHT?setTimeout(function(){var e=I(a);I(a,e.begin)},0):s==i.keyCode.LEFT&&setTimeout(function(){var e=I(a);I(a,ie?e.begin+1:e.begin-1)},0)):(i.insertMode=!i.insertMode,I(a,i.insertMode||l.begin!=S()?l.begin:l.begin-1));var u=I(a),c=i.onKeyDown.call(this,t,b(),u.begin,i);W(a,c,u),oe=-1!=e.inArray(s,i.ignorables)}function Q(t,a,n,o,s,l){if(void 0==n&&ne)return!1;ne=!0;var u=this,c=e(u);t=t||window.event;var n=a?n:t.which||t.charCode||t.keyCode;if(!(a===!0||t.ctrlKey&&t.altKey)&&(t.ctrlKey||t.metaKey||oe))return!0;if(n){a!==!0&&46==n&&0==t.shiftKey&&","==i.radixPoint&&(n=44);var d,m,h=String.fromCharCode(n);if(a){var k=s?l:p()+1;d={begin:k,end:k}}else d=I(u);var g=N(d.begin,d.end);g&&(r().undoPositions=e.extend(!0,{},r().validPositions),q(u,i.keyCode.DELETE,d),i.insertMode||(i.insertMode=!i.insertMode,f(d.begin,s),i.insertMode=!i.insertMode),g=!i.multi),r().writeOutBuffer=!0;var _=ie&&!g?d.end:d.begin,P=A(_,h,s);if(P!==!1){if(P!==!0&&(_=void 0!=P.pos?P.pos:_,h=void 0!=P.c?P.c:h),v(!0),void 0!=P.caret)m=P.caret;else{var C=r().validPositions;m=!i.keepStatic&&(void 0!=C[_+1]&&y(_+1,C[_].locator.slice(),_).length>1||void 0!=C[_].alternation)?_+1:M(_)}r().p=m}if(o!==!1){var E=this;if(setTimeout(function(){i.onKeyValidation.call(E,P,i)},0),r().writeOutBuffer&&P!==!1){var S=b();T(u,S,a?void 0:i.numericInput?w(m):m),a!==!0&&setTimeout(function(){L(S)===!0&&c.trigger("complete"),re=!0,c.trigger("input")},0)}else g&&(r().buffer=void 0,r().validPositions=r().undoPositions)}else g&&(r().buffer=void 0,r().validPositions=r().undoPositions);if(i.showTooltip&&c.prop("title",r().mask),t&&1!=a){t.preventDefault?t.preventDefault():t.returnValue=!1;var G=I(u),O=i.onKeyPress.call(this,t,b(),G.begin,i);W(u,O,G)}}}function $(t){var a=e(this),n=this,r=t.keyCode,o=b(),s=I(n),l=i.onKeyUp.call(this,t,o,s.begin,i);W(n,l,s),r==i.keyCode.TAB&&i.showMaskOnFocus&&(a.hasClass("focus-inputmask")&&0==n._valueGet().length?(v(),o=b(),T(n,o),I(n,0),ee=b().join("")):(T(n,o),I(n,F(0),F(S()))))}function J(t){if(re===!0&&"input"==t.type)return re=!1,!0;var a=this,n=e(a),r=a._valueGet();if("propertychange"==t.type&&a._valueGet().length<=S())return!0;"paste"==t.type&&(window.clipboardData&&window.clipboardData.getData?r=window.clipboardData.getData("Text"):t.originalEvent&&t.originalEvent.clipboardData&&t.originalEvent.clipboardData.getData&&(r=t.originalEvent.clipboardData.getData("text/plain")));var o=e.isFunction(i.onBeforePaste)?i.onBeforePaste.call(a,r,i):r;return x(a,!0,!1,o.split(""),!0),n.click(),L(b())===!0&&n.trigger("complete"),!1}function z(e){if(re===!0&&"input"==e.type)return re=!1,!0;var t=this,a=I(t),n=t._valueGet();n=n.replace(new RegExp("("+D(_().join(""))+")*"),""),a.begin>n.length&&(I(t,n.length),a=I(t)),b().length-n.length!=1||n.charAt(a.begin)==b()[a.begin]||n.charAt(a.begin+1)==b()[a.begin]||E(a.begin)||(e.keyCode=i.keyCode.BACKSPACE,V.call(t,e)),e.preventDefault()}function Z(t){if(re===!0&&"input"==t.type)return re=!1,!0;var a=this,n=I(a),o=a._valueGet();I(a,n.begin-1);var s=e.Event("keypress");s.which=o.charCodeAt(n.begin-1),ne=!1,oe=!1,Q.call(a,s,void 0,void 0,!1);var l=r().p;T(a,b(),i.numericInput?w(l):l),t.preventDefault()}function Y(t){re=!0;var a=this;return setTimeout(function(){I(a,I(a).begin-1);var n=e.Event("keypress");n.which=t.originalEvent.data.charCodeAt(0),ne=!1,oe=!1,Q.call(a,n,void 0,void 0,!1);var o=r().p;T(a,b(),i.numericInput?w(o):o)},0),!1}function X(t){if(te=e(t),te.is(":input")&&"number"!=te.attr("type")){if(te.data("_inputmask",{maskset:a,opts:i,isRTL:!1}),i.showTooltip&&te.prop("title",r().mask),("rtl"==t.dir||i.rightAlign)&&te.css("text-align","right"),"rtl"==t.dir||i.numericInput){t.dir="ltr",te.removeAttr("dir");var n=te.data("_inputmask");n.isRTL=!0,te.data("_inputmask",n),ie=!0}te.unbind(".inputmask"),te.removeClass("focus-inputmask"),te.closest("form").bind("submit",function(){ee!=b().join("")?te.change():te[0]._valueGet&&te[0]._valueGet()==_().join("")&&te[0]._valueSet&&te[0]._valueSet(""),i.autoUnmask&&i.removeMaskOnSubmit&&te.inputmask("remove")}).bind("reset",function(){setTimeout(function(){te.trigger("setvalue")},0)}),te.bind("mouseenter.inputmask",function(){var t=e(this),a=this;!t.hasClass("focus-inputmask")&&i.showMaskOnHover&&a._valueGet()!=b().join("")&&T(a,b())}).bind("blur.inputmask",function(){var t=e(this),a=this;if(t.data("_inputmask")){var n=a._valueGet(),r=b();t.removeClass("focus-inputmask"),ee!=b().join("")&&t.change(),i.clearMaskOnLostFocus&&""!=n&&(n==_().join("")?a._valueSet(""):B(a)),L(r)===!1&&(t.trigger("incomplete"),i.clearIncomplete&&(v(),i.clearMaskOnLostFocus?a._valueSet(""):(r=_().slice(),T(a,r))))}}).bind("focus.inputmask",function(){var t=e(this),a=this,n=a._valueGet();i.showMaskOnFocus&&!t.hasClass("focus-inputmask")&&(!i.showMaskOnHover||i.showMaskOnHover&&""==n)&&a._valueGet()!=b().join("")&&T(a,b(),M(p())),t.addClass("focus-inputmask"),ee=b().join("")}).bind("mouseleave.inputmask",function(){var t=e(this),a=this;i.clearMaskOnLostFocus&&(t.hasClass("focus-inputmask")||a._valueGet()==t.attr("placeholder")||(a._valueGet()==_().join("")||""==a._valueGet()?a._valueSet(""):B(a)))}).bind("click.inputmask",function(){var t=this;e(t).is(":focus")&&setTimeout(function(){var e=I(t);if(e.begin==e.end){var a=ie?F(e.begin):e.begin,i=p(a),n=M(i);n>a?E(a)?I(t,a):I(t,M(a)):I(t,n)}},0)}).bind("dblclick.inputmask",function(){var e=this;setTimeout(function(){I(e,0,M(p()))},0)}).bind(d+".inputmask dragdrop.inputmask drop.inputmask",J).bind("setvalue.inputmask",function(){var e=this;x(e,!0,!1,void 0,!0),ee=b().join("")}).bind("complete.inputmask",i.oncomplete).bind("incomplete.inputmask",i.onincomplete).bind("cleared.inputmask",i.oncleared),te.bind("keydown.inputmask",V).bind("keypress.inputmask",Q).bind("keyup.inputmask",$).bind("compositionupdate.inputmask",Y),"paste"===d&&te.bind("input.inputmask",Z),(s||u||l||c)&&("input"==d&&te.unbind(d+".inputmask"),te.bind("input.inputmask",z)),U(t);var o=e.isFunction(i.onBeforeMask)?i.onBeforeMask.call(t,t._valueGet(),i):t._valueGet();x(t,!0,!1,o.split(""),!0),ee=b().join("");var f;try{f=document.activeElement}catch(m){}L(b())===!1&&i.clearIncomplete&&v(),i.clearMaskOnLostFocus?b().join("")==_().join("")?t._valueSet(""):B(t):T(t,b()),f===t&&(te.addClass("focus-inputmask"),I(t,M(p()))),H(t)}}var ee,te,ae,ie=!1,ne=!1,re=!1,oe=!1;if(void 0!=t)switch(t.action){case"isComplete":return te=e(t.el),a=te.data("_inputmask").maskset,i=te.data("_inputmask").opts,L(t.buffer);case"unmaskedvalue":return te=t.$input,a=te.data("_inputmask").maskset,i=te.data("_inputmask").opts,ie=t.$input.data("_inputmask").isRTL,K(t.$input);case"mask":ee=b().join(""),X(t.el);break;case"format":te=e({}),te.data("_inputmask",{maskset:a,opts:i,isRTL:i.numericInput}),i.numericInput&&(ie=!0);var se=(e.isFunction(i.onBeforeMask)?i.onBeforeMask.call(te,t.value,i):t.value).split("");return x(te,!1,!1,ie?se.reverse():se,!0),i.onKeyPress.call(this,void 0,b(),0,i),ie?b().slice().reverse().join(""):b().join("");case"isValid":te=e({}),te.data("_inputmask",{maskset:a,opts:i,isRTL:i.numericInput}),i.numericInput&&(ie=!0);var se=t.value.split("");x(te,!1,!0,ie?se.reverse():se);var le=b(),ue=R();return le.length=ue,L(le)&&t.value==le.join("");case"getemptymask":return te=e(t.el),a=te.data("_inputmask").maskset,i=te.data("_inputmask").opts,_();case"remove":var ce=t.el;te=e(ce),a=te.data("_inputmask").maskset,i=te.data("_inputmask").opts,ce._valueSet(K(te)),te.unbind(".inputmask"),te.removeClass("focus-inputmask"),te.removeData("_inputmask");var de;Object.getOwnPropertyDescriptor&&(de=Object.getOwnPropertyDescriptor(ce,"value")),de&&de.get?ce._valueGet&&Object.defineProperty(ce,"value",{get:ce._valueGet,set:ce._valueSet}):document.__lookupGetter__&&ce.__lookupGetter__("value")&&ce._valueGet&&(ce.__defineGetter__("value",ce._valueGet),ce.__defineSetter__("value",ce._valueSet));try{delete ce._valueGet,delete ce._valueSet}catch(ve){ce._valueGet=void 0,ce._valueSet=void 0}break;case"getmetadata":if(te=e(t.el),a=te.data("_inputmask").maskset,i=te.data("_inputmask").opts,e.isArray(a.metadata)){for(var pe,fe=p(),me=fe;me>=0;me--)if(r().validPositions[me]&&void 0!=r().validPositions[me].alternation){pe=r().validPositions[me].alternation;break}return void 0!=pe?a.metadata[r().validPositions[fe].locator[pe]]:a.metadata[0]}return a.metadata}}if(void 0===e.fn.inputmask){var r=("function"==typeof ScriptEngineMajorVersion?ScriptEngineMajorVersion():new Function("/*@cc_on return @_jscript_version; @*/")()>=10,navigator.userAgent),o=null!==r.match(new RegExp("iphone","i")),s=null!==r.match(new RegExp("android.*safari.*","i")),l=null!==r.match(new RegExp("android.*chrome.*","i")),u=null!==r.match(new RegExp("android.*firefox.*","i")),c=/Kindle/i.test(r)||/Silk/i.test(r)||/KFTT/i.test(r)||/KFOT/i.test(r)||/KFJWA/i.test(r)||/KFJWI/i.test(r)||/KFSOWI/i.test(r)||/KFTHWA/i.test(r)||/KFTHWI/i.test(r)||/KFAPWA/i.test(r)||/KFAPWI/i.test(r),d=t("paste")?"paste":t("input")?"input":"propertychange";e.inputmask={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},quantifiermarker:{start:"{",end:"}"},groupmarker:{start:"(",end:")"},alternatormarker:"|",escapeChar:"\\",mask:null,oncomplete:e.noop,onincomplete:e.noop,oncleared:e.noop,repeat:0,greedy:!0,autoUnmask:!1,removeMaskOnSubmit:!0,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,aliases:{},alias:null,onKeyUp:e.noop,onKeyPress:e.noop,onKeyDown:e.noop,onBeforeMask:void 0,onBeforePaste:void 0,onUnMask:void 0,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:e.noop,skipOptionalPartCharacter:" ",showTooltip:!1,numericInput:!1,rightAlign:!1,radixPoint:"",nojumps:!1,nojumpsThreshold:0,keepStatic:void 0,definitions:{9:{validator:"[0-9]",cardinality:1,definitionSymbol:"*"},a:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",cardinality:1,definitionSymbol:"*"},"*":{validator:"[0-9A-Za-zА-яЁёÀ-ÿµ]",cardinality:1}},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123],isComplete:void 0},masksCache:{},escapeRegex:function(e){var t=["/",".","*","+","?","|","(",")","[","]","{","}","\\"];return e.replace(new RegExp("(\\"+t.join("|\\")+")","gim"),"\\$1")},format:function(t,r){var o=e.extend(!0,{},e.inputmask.defaults,r);return a(o.alias,r,o),n({action:"format",value:t},i(o),o)},isValid:function(t,r){var o=e.extend(!0,{},e.inputmask.defaults,r);return a(o.alias,r,o),n({action:"isValid",value:t},i(o),o)}},e.fn.inputmask=function(t,r,o,s,l){function u(t,a){var i=e(t);for(var n in a){var r=i.data("inputmask-"+n.toLowerCase());void 0!=r&&(a[n]=r)}return a}o=o||n,s=s||"_inputmask";var c,d=e.extend(!0,{},e.inputmask.defaults,r);if("string"==typeof t)switch(t){case"mask":return a(d.alias,r,d),c=i(d,o!==n),0==c.length?this:this.each(function(){o({action:"mask",el:this},e.extend(!0,{},c),u(this,d))});case"unmaskedvalue":var v=e(this);return v.data(s)?o({action:"unmaskedvalue",$input:v}):v.val();case"remove":return this.each(function(){var t=e(this);t.data(s)&&o({action:"remove",el:this})});case"getemptymask":return this.data(s)?o({action:"getemptymask",el:this}):"";case"hasMaskedValue":return this.data(s)?!this.data(s).opts.autoUnmask:!1;case"isComplete":return this.data(s)?o({action:"isComplete",buffer:this[0]._valueGet().split(""),el:this}):!0;case"getmetadata":return this.data(s)?o({action:"getmetadata",el:this}):void 0;case"_detectScope":return a(d.alias,r,d),void 0==l||a(l,r,d)||-1!=e.inArray(l,["mask","unmaskedvalue","remove","getemptymask","hasMaskedValue","isComplete","getmetadata","_detectScope"])||(d.mask=l),e.isFunction(d.mask)&&(d.mask=d.mask.call(this,d)),e.isArray(d.mask);default:return a(d.alias,r,d),a(t,r,d)||(d.mask=t),c=i(d,o!==n),void 0==c?this:this.each(function(){o({action:"mask",el:this},e.extend(!0,{},c),u(this,d))})}else{if("object"==typeof t)return d=e.extend(!0,{},e.inputmask.defaults,t),a(d.alias,t,d),c=i(d,o!==n),void 0==c?this:this.each(function(){o({action:"mask",el:this},e.extend(!0,{},c),u(this,d))});if(void 0==t)return this.each(function(){var t=e(this).attr("data-inputmask");if(t&&""!=t)try{t=t.replace(new RegExp("'","g"),'"');var i=e.parseJSON("{"+t+"}");e.extend(!0,i,r),d=e.extend(!0,{},e.inputmask.defaults,i),a(d.alias,i,d),d.alias=void 0,e(this).inputmask("mask",d,o)}catch(n){}})}}}return e.fn.inputmask});