
/*! Tablesaw - v2.0.2 - 2015-10-28
 * https://github.com/filamentgroup/tablesaw
 * Copyright (c) 2015 Filament Group; Licensed  */
if(typeof Tablesaw==="undefined"){Tablesaw={i18n:{modes:["Stack","Swipe","Toggle"],columns:'Col<span class="a11y-sm">umn</span>s',columnBtnText:"Columns",columnsDialogError:"No eligible columns.",sort:"Sort"},mustard:"querySelector" in document&&(!window.blackberry||window.WebKitPoint)&&!window.operamini}}if(!Tablesaw.config){Tablesaw.config={}}if(Tablesaw.mustard){jQuery(document.documentElement).addClass("tablesaw-enhanced")}(function(g){var f="table",e={toolbar:"tablesaw-bar"},d={create:"tablesawcreate",destroy:"tablesawdestroy",refresh:"tablesawrefresh"},c="stack",b="table[data-tablesaw-mode],table[data-tablesaw-sortable]";var a=function(h){if(!h){throw new Error("Tablesaw requires an element.")}this.table=h;this.$table=g(h);this.mode=this.$table.attr("data-tablesaw-mode")||c;this.init()};a.prototype.init=function(){if(!this.$table.attr("id")){this.$table.attr("id",f+"-"+Math.round(Math.random()*10000))}this.createToolbar();var h=this._initCells();this.$table.trigger(d.create,[this,h])};a.prototype._initCells=function(){var i,j=this.table.querySelectorAll("thead tr"),h=this;g(j).each(function(){var k=0;g(this).children().each(function(){var m=parseInt(this.getAttribute("colspan"),10),n=":nth-child("+(k+1)+")";i=k+1;if(m){for(var l=0;l<m-1;l++){k++;n+=", :nth-child("+(k+1)+")"}}this.cells=h.$table.find("tr").not(j[0]).not(this).children().filter(n);k++})});return i};a.prototype.refresh=function(){this._initCells();this.$table.trigger(d.refresh)};a.prototype.createToolbar=function(){var h=this.$table.prev().filter("."+e.toolbar);if(!h.length){h=g("<div>").addClass(e.toolbar).insertBefore(this.$table)}this.$toolbar=h;if(this.mode){this.$toolbar.addClass("mode-"+this.mode)}};a.prototype.destroy=function(){this.$table.prev().filter("."+e.toolbar).each(function(){this.className=this.className.replace(/\bmode\-\w*\b/gi,"")});var h=this.$table.attr("id");g(document).unbind("."+h);g(window).unbind("."+h);this.$table.trigger(d.destroy,[this]);this.$table.removeAttr("data-tablesaw-mode");this.$table.removeData(f)};g.fn[f]=function(){return this.each(function(){var i=g(this);if(i.data(f)){return}var h=new a(this);i.data(f,h)})};g(document).on("enhance.tablesaw",function(h){if(Tablesaw.mustard){g(h.target).find(b)[f]()}})}(jQuery));(function(f,e,g){var b={stackTable:"tablesaw-stack",cellLabels:"tablesaw-cell-label",cellContentLabels:"tablesaw-cell-content"};var d={obj:"tablesaw-stack"};var a={labelless:"data-tablesaw-no-labels",hideempty:"data-tablesaw-hide-empty",preappend:"data-tablesaw-preappend",postappend:"data-tablesaw-postappend",firstcolumn:"data-tablesaw-firstcolumn"};var c=function(h){this.$table=e(h);this.labelless=this.$table.is("["+a.labelless+"]");this.hideempty=this.$table.is("["+a.hideempty+"]");this.preappend=this.$table.is("["+a.preappend+"]");this.postappend=this.$table.is("["+a.postappend+"]");this.firstcolumn=this.$table.is("["+a.firstcolumn+"]");if(!this.labelless){if(!this.firstcolumn){this.allHeaders=this.$table.find("th").not(":first-child")}else{this.allHeaders=this.$table.find("th")}}this.$table.data(d.obj,this)};c.prototype.init=function(l){if(this.$table.hasClass("stackdone")){return}this.$table.addClass(b.stackTable);this.$table.addClass("stackdone");if(this.labelless){return}var h=e(this.allHeaders);var k=this.hideempty;var j=this.postappend;var i=this.preappend;h.each(function(){var s=e(this),m=e(this.cells).filter(function(){return !e(this).parent().is("["+a.labelless+"]")&&(!k||!e(this).is(":empty"))}),r=m.not(this).filter("thead th").length&&" tablesaw-cell-label-top",p=s.find(".tablesaw-sortable-btn"),n=p.length?p.html():s.html();if(n!==""){if(r){var q=parseInt(e(this).attr("colspan"),10),o="";if(q){o="td:nth-child("+q+"n + "+(l)+")"}m.filter(o).prepend("<b class='"+b.cellLabels+r+"'>"+n+"</b>")}else{m.wrapInner("<span class='"+b.cellContentLabels+"'></span>");if(i){m.prepend("<b class='"+b.cellLabels+"'>"+n+"</b>")}else{m.append("<b class='"+b.cellLabels+"'>"+n+"</b>")}}}})};c.prototype.destroy=function(){this.$table.removeClass(b.stackTable);this.$table.find("."+b.cellLabels).remove();this.$table.find("."+b.cellContentLabels).each(function(){e(this).replaceWith(this.childNodes)})};e(document).on("tablesawcreate",function(k,j,h){if(j.mode==="stack"){var i=new c(j.table);i.init(h)}});e(document).on("tablesawdestroy",function(i,h){if(h.mode==="stack"){e(h.table).data(d.obj).destroy()}})}(this,jQuery));